<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.0 -->
<title>Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo | Chris Phillips’ Blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo" />
<meta property="og:description" content="Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo" />
<link rel="canonical" href="/apiconnect/2017/07/23/Teaching-my-daughter-to-code-Part-2-How-to-avoid-callbacks-at-all-cost-when-teaching-a-7yo.html" />
<meta property="og:url" content="/apiconnect/2017/07/23/Teaching-my-daughter-to-code-Part-2-How-to-avoid-callbacks-at-all-cost-when-teaching-a-7yo.html" />
<meta property="og:site_name" content="Chris Phillips’ Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-07-23T01:00:00+01:00" />
<script type="application/ld+json">
{"description":"Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo","@type":"BlogPosting","url":"/apiconnect/2017/07/23/Teaching-my-daughter-to-code-Part-2-How-to-avoid-callbacks-at-all-cost-when-teaching-a-7yo.html","headline":"Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo","dateModified":"2017-07-23T01:00:00+01:00","datePublished":"2017-07-23T01:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"/apiconnect/2017/07/23/Teaching-my-daughter-to-code-Part-2-How-to-avoid-callbacks-at-all-cost-when-teaching-a-7yo.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Chris Phillips' Blog" /><!---->
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Chris Phillips&#39; Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Teaching my daughter to code Part 2 --- How to avoid callbacks at all
cost when teaching a 7yo
</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2017-07-23T01:00:00+01:00" itemprop="datePublished">Jul 23, 2017
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="teaching-my-daughter-to-code-part-2--how-to-avoid-callbacks-at-all-cost-when-teaching-a-7yo">Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo</h1>

<p>So Jessica finally persudaded that we should do some more work on her
quiz. She wanted ot make it interactive so that people could answer…</p>

<hr />

<h3 id="teaching-my-daughter-to-code-part-2how-to-avoid-callbacks-at-all-cost-when-teaching-a7yo">Teaching my daughter to code Part 2 — How to avoid callbacks at all cost when teaching a 7yo</h3>

<p>So Jessica finally persudaded that we should do some more work on her
quiz. She wanted ot make it interactive so that people could answer the
questions.</p>

<p><em>As any half decent coder will say, thats simple!</em></p>

<p><em>As any decent coder will say, hang on she is 7 and this is Node JS!</em></p>

<p>The rules I set myself for this were as follows</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Rule 1 - Don't mention callbacks
Rule 2 - If she gets bored let her go and do something else.
</code></pre></div></div>

<p>Every time I have done user input at the CLI I have used the <em>great</em>
inquirer package
(<a href="https://www.npmjs.com/package/inquirer">https://www.npmjs.com/package/inquirer)</a>, even writing an extension when it wouldnt do what i
wanted (<a href="https://www.npmjs.com/package/inquirer-orderedcheckbox">https://www.npmjs.com/package/inquirer-orderedcheckbox</a> with 12
whole downloads!).</p>

<p>This time I used the simple read package
(<a href="https://www.npmjs.com/package/read">https://www.npmjs.com/package/read</a>). This allowed us to a very basic
prompt.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read({
  prompt: "??"
}, function(err, answer) {
  if (answer == "Prince Philip") {
    console.log("Correct!");
  } else {
    console.log("Wrong");
  }
})
</code></pre></div></div>

<p>So we would console.log to ask the question then run read with a ‘??’ to
prompt for the answer. This would give the following</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1    How many dogs does the Queen have?

?? ANSWER GOES HERE
</code></pre></div></div>

<p>However to ensure that the questions do not get asked at the same time
(damn Async) we must ensure that each question is asked in the same
callback as we process the answer, ARGH Remember Rule 1. The solution to
this was to not talk about the close braces until we had answered all
the questions.</p>

<p>Once we managed to add the close braces we installed atom-beautify and
Jessica used the magic beautify funciton to make code easier to read.
The final code is in Git
(<a href="https://github.com/ChrisPhillips-cminion/JessicasQuiz">https://github.com/ChrisPhillips-cminion/JessicasQuiz</a>) and below.</p>

<p>Jessica asked a question why do we need a ; at the end of each line. The
only reason I came up with was <em>“To Stop Jack moaning at me”, but she
seemed to accept this.</em></p>

<p><strong>**We make no promises that the answers to the questions are
correct!**</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var sleep = require('sleep').sleep
var color = require('colors');
var read = require('read');
j = 1
totalAnswers = 0
console.log("Queen quiz - by Jessica".bold)
sleep(2)
read({
  prompt: "What is your name?"
}, function(err, answer) {
  console.log("Hello " + answer)
  console.log("")
  console.log(j++ + "\tHow many dogs does the Queen have?".yellow)
  console.log("")
  read({
    prompt: "??"
  }, function(err, answer) {
    if (answer == "30") {
      console.log("Correct!");
    } else {
      console.log("Wrong");
    }
    console.log(j++ + "\tHow many grandchildren does the Queen have?");
    console.log("")
    read({
      prompt: "??"
    }, function(err, answer) {
      if (answer == "8") {
        console.log("Correct!");
      } else {
        console.log("Wrong");
      }
      console.log(j++ + "\tHow many castles does the Queen have?".magenta);
      console.log("")
      read({
        prompt: "??"
      }, function(err, answer) {
        if (answer == "8") {
          console.log("Correct!");
        } else {
          console.log("Wrong");
        }
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>console.log(j++ + "\tHow many princesses does the Queen have?".blue);
        console.log("")
        read({
          prompt: "??"
        }, function(err, answer) {
          if (answer == "4") {
            console.log("Correct!");
          } else {
            console.log("Wrong");
          }
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>console.log(j++ + "\tHow many types of dogs does the Queen have?".green);
          console.log("")
          read({
            prompt: "??"
          }, function(err, answer) {
            if (answer == "6") {
              console.log("Correct!");
            } else {
              console.log("Wrong");
            }
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>console.log(j++ + "\tHow many princes deos the Queen have?".cyan);
            console.log("")
            read({
              prompt: "??"
            }, function(err, answer) {
              if (answer == "5") {
                console.log("Correct!");
              } else {
                console.log("Wrong");
              }
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>console.log(j++ + "\tWho is the Queen's Great Great Grandmother?".magenta);
              console.log("")
              read({
                prompt: "??"
              }, function(err, answer) {
                if (answer == "Victoria") {
                  console.log("Correct!");
                } else {
                  console.log("Wrong");
                }
                console.log(j++ + "\tWho is the Queen's Great Grandmother?");
                console.log("")
                read({
                  prompt: "??"
                }, function(err, answer) {
                  if (answer == "Alexandra") {
                    console.log("Correct!");
                  } else {
                    console.log("Wrong");
                  }
                  console.log(j++ + "\tHow old is the Queen?".rainbow.bold);
                  console.log("")
                  read({
                    prompt: "??"
                  }, function(err, answer) {
                    if (answer == "91") {
                      console.log("Correct!");
                    } else {
                      console.log("Wrong");
                    }
                    console.log(j++ + "\thow old was the Queen when she became Queen?".magenta);
                    console.log("")
                    read({
                      prompt: "??"
                    }, function(err, answer) {
                      if (answer == "25") {
                        console.log("Correct!");
                      } else {
                        console.log("Wrong");
                      }
                      console.log(j++ + "\tHow many countries does the Queen rule?".rainbow.bold);
                      console.log("")
                      read({
                        prompt: "??"
                      }, function(err, answer) {
                        if (answer == "16") {
                          console.log("Correct!");
                        } else {
                          console.log("Wrong");
                        }
                        console.log("")
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>console.log(j++ + "\tHow many sister does the Queen have?".magenta);
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read({
                          prompt: "??"
                        }, function(err, answer) {
                          if (answer == "1") {
                            console.log("Correct!");
                          } else {
                            console.log("Wrong");
                          }
                          console.log(j++ + "\tWho is the Duke of Edinburgh?".magenta);
                          console.log("")
                          read({
                            prompt: "??"
                          }, function(err, answer) {
                            if (answer == "Prince Philip") {
                              console.log("Correct!");
                            } else {
                              console.log("Wrong");
                            }
                            console.log(j++ + "\tHow old was the Queen in May 1926?".magenta);
                            console.log("")
                            read({
                              prompt: "??"
                            }, function(err, answer) {
                              if (answer == "0") {
                                console.log("Correct!");
                              } else {
                                console.log("Wrong");
                              }
                              console.log(j++ + "\tDid George VI like to knit?".magenta);
                              console.log("")
                              read({
                                prompt: "??"
                              }, function(err, answer) {
                                if (answer == "yes") {
                                  console.log("Correct!");
                                } else {
                                  console.log("Wrong");
                                }
                                console.log(j++ + "\tWho did the Queen marry?".magenta);
                                console.log("")
                                read({
                                  prompt: "??"
                                }, function(err, answer) {
                                  if (answer == "Prince Philip") {
                                    console.log("Correct!");
                                  } else {
                                    console.log("Wrong");
                                  }
                                })
                              })
                            })
                          })
                        })
                      })
                    })
                  })
                })
              })
            })
          })
        })
      })
    })
  })
})
</code></pre></div></div>

<p>So whats left</p>

<ol>
  <li>[Validating the questions]</li>
  <li>[Functions]</li>
  <li>[Better callback practise]</li>
  <li>[Documenting Code as we go!]</li>
</ol>

<p>By <a href="https://medium.com/@cminion">Chris Phillips</a> on
<a href="https://medium.com/p/29cc999e0383">July 23, 2017</a>.</p>

<p><a href="https://medium.com/@cminion/teaching-my-daughter-to-code-part-2-how-to-avoid-callbacks-at-all-cost-when-teaching-a-7yo-29cc999e0383">Canonical
link</a></p>

<p>Exported from <a href="https://medium.com">Medium</a> on April 6, 2019.</p>

  </div><a class="u-url" href="/apiconnect/2017/07/23/Teaching-my-daughter-to-code-Part-2-How-to-avoid-callbacks-at-all-cost-when-teaching-a-7yo.html" hidden></a>
</article>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5762182881741486"
     data-ad-slot="5834821709"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col one-half">
      <h2 class="footer-heading">Chris Phillips&#39; Blog</h2>
        <ul class="contact-list">
          <li class="p-name">Chris Phillips&#39; Blog</li><li><a class="u-email" href="mailto:chris.phillips@uk.ibm.com">chris.phillips@uk.ibm.com</a></li></ul>
      </div>

      <div class="footer-col one-half">
        <p>Father of 2 - IBM Master Inventor &amp; SWAT Integration Architect - API, Integration and Governance SME and Enthusiast, Board Gamer, My opinions are very much mine</p>
      </div>

      <div class="social-links"><ul class="social-media-list"></ul>
</div>
    </div>

  </div>

</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-139881144-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-139881144-1');
</script>


  </body>

</html>
